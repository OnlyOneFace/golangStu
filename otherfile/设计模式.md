# 设计模式
参考：https://github.com/senghoo/golang-design-pattern
## 1.创建型模式
### 单例模式
保证一个类仅有一个实例，并提供一个访问它的全局访问点，避免一个全局使用的类频繁的创建和销毁，节省系统资源，提高程序效率。怎么创建唯一的实例？我们必须把构造器设为私有，这样其他类就不能使用new来实例化一个类。
使用懒惰模式的单例模式，使用双重检查加锁保证线程安全。
```go

// 方法1 全局通过GetSingleton来获取，通过once表示初始化一次
import "sync"
// Singleton 是单例模式类
type singleton struct{}

var (
	s    *singleton
	once sync.Once
)

// GetInstance 用于获取单例模式对象
func GetSingleton() *singleton {
	once.Do(func() {
		s = &singleton{}
	})
	return s
}

// 方法2 通过大写全局变量来访问单例模式对象
type singleton struct{}

var S *singleton

func init() { // 通过加载包的时候初始化
	s = &singleton{}
}
```